<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>In The End</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="爱好ACM与算法">
<meta name="keywords" content="算法">
<meta property="og:type" content="website">
<meta property="og:title" content="In The End">
<meta property="og:url" content="https://crazyeric00.github.io/index.html">
<meta property="og:site_name" content="In The End">
<meta property="og:description" content="爱好ACM与算法">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="In The End">
<meta name="twitter:description" content="爱好ACM与算法">
  
    <link rel="alternate" href="/atom.xml" title="In The End" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/plugin/bganimation/bg.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <div class="outer">
        <div class="widget-wrap mobile-header">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="/images/avatar.jpg">
    <h2 class="author">Eric</h2>
    <h3 class="description">爱好ACM与算法</h3>
    <div class="count-box">
      <a href="/archives"><div><strong>9</strong><br>文章</div></a>
      <a href="/categories"><div><strong>7</strong><br>分类</div></a>
      <a href="/tags"><div><strong>2</strong><br>标签</div></a>
    </div>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>主页</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>归档</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>分类</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>标签</li>
          </a>
        
    </ul>
  </div>
</div>

        <section id="main">
  
    <article id="post-个人博客2-0上线了" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/18/个人博客2-0上线了/" class="article-date">
  <time class="post-time" datetime="2018-07-18T10:16:59.000Z" itemprop="datePublished">
    <span class="post-month">7月</span><br/>
    <span class="post-day">18</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/18/个人博客2-0上线了/">个人博客2.0上线了</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <font color="#00ff00" size="4"><br>哈哈哈，新博客搬完家了。<br><br>是不是非常炫酷捏。。<br><br>点击页面会出现彩色爱心，手机端最下方（电脑端是右方）会有一个地球仪（访客的位置）<br><br>接下来就在这个博客2.0上继续编程与算法之旅！<br><br>欢迎多来逛哦<br><br></font>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://crazyeric00.github.io/2018/07/18/个人博客2-0上线了/" data-id="cjjr83t9m00094zjy73uskgoc" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-链式哈希表（八数码问题扩展）" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/18/链式哈希表（八数码问题扩展）/" class="article-date">
  <time class="post-time" datetime="2018-07-17T17:27:53.000Z" itemprop="datePublished">
    <span class="post-month">7月</span><br/>
    <span class="post-day">17</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/18/链式哈希表（八数码问题扩展）/">链式哈希表（八数码问题扩展）</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>哈哈，疯狂更新！又是八数码问题，这次是写另一种判重方法，也是一种比较常用的方法/数据结构<br>上一篇文章中的八数码问题中可以不使用康托展开，虽然康托展开是完美哈希（一一对应）的，但是就是因为其完美哈希（一一对应）的这个特质，所以在节点多入牛毛时，你的内存空间还是会爆炸，因为就算康托展开地再完美，也还是无法减少情况，毕竟是一一对应，根本减少不了好吧。所以，在康托都救不了你了，Hash还是可以拯救你一下子的。<br>接下来就是数据结构的知识了，我们推出主角——哈希表（散列表） 哈希表（Hash table，也叫散列表），是根据关键码值(Key value)而直接进行访问的数据结构。也就是说，它通过把关键码值映射到表中一个位置来访问记录，以加快查找的速度。这个映射函数叫做散列函数，存放记录的数组叫做散列表。 记录的存储位置=f(关键字) 这里的对应关系f称为散列函数，又称为哈希（Hash函数），采用散列技术将记录存储在一块连续的存储空间中，这块连续存储空间称为散列表或哈希表（Hash table）。<br>数组的特点是：寻址容易，插入和删除困难； 而链表的特点是：寻址困难，插入和删除容易。 我们综合两者的特性，做出一种寻址容易，插入删除也容易的数据结构，这就是我们要提起的哈希表，哈希表有多种不同的实现方法，我接下来解释的是最常用的一种方法——拉链法，我们可以理解为“链表的数组”，如图：<br><img src="/img/链式哈希表.jpeg" alt=""><br>左边很明显是个数组，数组的每个成员包括一个指针，指向一个链表的头，当然这个链表可能为空，也可能元素很多。我们根据元素的一些特征把元素分配到不同的链表中去，也是根据这些特征，找到正确的链表，再从链表中找出这个元素。 然后当我们查找时，我们只需要查找一个范围，也就是使用O（1）时间查到这个链表头，之后再进行普通的比较是否一样<br>小tips：我们在选取hash函数时必须要慎重，举个例子，如果你的hash函数把所有的状态全部映射成了一个值，那么你的哈希表也就只有一条链表了，那这就非常糟糕了。  </p>
<h4 id="关键字——散列函数（哈希函数）——散列地址"><a href="#关键字——散列函数（哈希函数）——散列地址" class="headerlink" title="关键字——散列函数（哈希函数）——散列地址"></a>关键字——散列函数（哈希函数）——散列地址</h4><p>优点：一对一的查找效率很高； </p>
<p>缺点：一个关键字可能对应多个散列地址；需要查找一个范围时，效果不好；有时候会退化成几条长长的链表。<br>散列冲突：不同的关键字经过散列函数的计算得到了相同的散列地址。 好的散列函数=计算简单+分布均匀（计算得到的散列地址分布均匀） 哈希表是种数据结构，它可以提供快速的插入操作和查找操作。  </p>
<h4 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h4><p>优点：不论哈希表中有多少数据，查找、插入、删除（有时包括删除）只需要接近常量的时间即0(1）的时间级。实际上，这只需要几条机器指令。 哈希表运算得非常快，在计算机程序中，如果需要在一秒种内查找上千条记录通常使用哈希表（例如拼写检查器)哈希表的速度明显比树快，树的操作通常需要O(N)的时间级。哈希表不仅速度快，编程实现也相对容易。 如果不需要有序遍历数据，并且可以提前预测数据量的大小。那么哈希表在速度和易用性方面是无与伦比的。</p>
<p>缺点：它是基于数组的，数组创建后难于扩展，某些哈希表被基本填满时，性能下降得非常严重，所以程序员必须要清楚表中将要存储多少数据（或者准备好定期地把数据转移到更大的哈希表中，这是个费时的过程）。</p>
<h2 id="代码实现（以前一篇博客的八数码问题举例）："><a href="#代码实现（以前一篇博客的八数码问题举例）：" class="headerlink" title="代码实现（以前一篇博客的八数码问题举例）："></a>代码实现（以前一篇博客的八数码问题举例）：</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">9</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1000000</span>;<span class="comment">//9个数字组成的状态的数量</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> hashsize=<span class="number">100</span>;<span class="comment">//链式哈希表的head（链头）的最大数量</span></span><br><span class="line"><span class="keyword">int</span> head[hashsize],next[<span class="number">100000</span>];</span><br><span class="line"><span class="keyword">int</span> st[maxn][N];<span class="comment">//保存八数码状态的数组</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//哈希函数，将一位数组变成一个数字，乘10的倍数相加，so easy！</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">hash</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span>* s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> val = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">        val = val * <span class="number">10</span> + s[i];</span><br><span class="line">    <span class="keyword">return</span> val % hashsize;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//判重的函数，也是添加链表的函数</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">judge</span><span class="params">(<span class="keyword">int</span> s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> val=hash(st[s]);<span class="comment">//先取出哈希值</span></span><br><span class="line">    <span class="keyword">int</span> u=head[val];<span class="comment">//找到该哈希值代表的头</span></span><br><span class="line">    <span class="keyword">while</span>(u)&#123;<span class="comment">//看看链表节点存不存在，不存在跳过，直接添加</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">memcmp</span>(st[u],st[s], <span class="keyword">sizeof</span>(st[s]))==<span class="number">0</span>)<span class="comment">//如果存在则进行普通判重比较，这里直接用内存比，效率高</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;<span class="comment">//发现重合返回false</span></span><br><span class="line">        u=next[u];<span class="comment">//不然则继续向后比较</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//没发现重合的就会结束循环出来，我们进行下面的添加链表操作</span></span><br><span class="line">    next[s]=head[val];<span class="comment">//直接头节点接入新节点后面</span></span><br><span class="line">    head[val]=s;<span class="comment">//然后将新节点作为新的头节点</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;<span class="comment">//返回true</span></span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>OK,哈希表的问题我们就说到这里，明天更新一个有趣的倒水问题。<br>PS：暑假期间博客争取日更，不知道这是不是一个FLAG</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://crazyeric00.github.io/2018/07/18/链式哈希表（八数码问题扩展）/" data-id="cjjr83tae00154zjys6owmmb9" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-八数码问题（BFS+康托展开）" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/17/八数码问题（BFS+康托展开）/" class="article-date">
  <time class="post-time" datetime="2018-07-17T15:29:07.000Z" itemprop="datePublished">
    <span class="post-month">7月</span><br/>
    <span class="post-day">17</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/17/八数码问题（BFS+康托展开）/">八数码问题(BFS+康托展开)</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>,<a class="article-category-link" href="/categories/ACM/北大oj/">北大oj</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>真香警告！ 这是ACM江湖传说中不做后悔的题！ 你还有一秒钟的时间撤离战场！ 好，你已经来不及了！ 接下来让我们看看今天的主角——八数码问题。<br><img src="/img/八数码1.jpg" alt=""><br>不知道大家小时候有没有玩过这个类似于上图拼图的游戏，我们的目标是要把左边的拼图通过一个空格作为媒介变成右边的拼图的样子（肯定有很多人玩过，但是是通过图片而不是数字，我记得好像windows桌面小工具里就有这个游戏），所以，今天就用计算机来解决这个游戏，输出它的最佳解决方案。 先看看题目吧，POJ1077题，传送门：<a href="http://poj.org/problem?id=1077" target="_blank" rel="noopener">http://poj.org/problem?id=1077</a><br>题意就是输入一个九宫格（字符串），空格用’x’表示，然后我们需要找出把空格怼到最下方且数字还要按顺序排布的移动方案（如图为目标）<br><img src="/img/八数码2.jpg" alt=""><br>好的废话不多说我们开始分析问题。 首先我们选用BFS来解决这个问题，以空格为起始点，让空格上下左右移动并记录下来，有一个问题是我们需要先解决的，我们得先把x变成数字，那么究竟是变成0还是变成9呢，我这里推荐变成9（我一开始变成0麻烦了一些，不过也不是不行）。为什么要变成9呢？原因就在于康托展开（不熟悉康托展开的同学请易步至我的前一篇博客，这里不再做过多的赘述），在康托展开中，123456789的字典序为0，而123456780的字典序则需要手动调试一次康托展开进行计算（虽然我这里算出来了是46233），所以就比较麻烦，在争分夺秒的环境下推荐直接用123456789，这样心里有底肯定错不了。如图所示<br><img src="/img/八数码3.jpeg" alt=""><br>好，然后就是重点了，为什么我们要费尽心机讲了这么多的康托展开，原因就在于，当我们BFS这个八数码的时候，我们怎么去判断这个形态我们已经上一次移动过了（简而言之就是不能走回头路，别移着移着又移回来了），我们开一个9维的vis数组去保存？别逗了！我们直接保存1-9的排列组合不就成了，9！=362880完全ok啊，这就得轮到康托展开大显身手的时候了，所以，在这个问题中我们只需写出康托展开的编码函数与解码函数，然后将BFS的每一步的父节点记下来，最后回溯即可。 </p>
<p>给出一张BFS搜索图加深理解：<br><img src="/img/八数码4.jpeg" alt=""> </p>
<p>接下来就是AC代码：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">362880</span>;</span><br><span class="line"><span class="keyword">int</span> vis[N];</span><br><span class="line"><span class="keyword">int</span> par[N];</span><br><span class="line"><span class="keyword">int</span> dir[N];</span><br><span class="line"><span class="comment">//这里手动记下了1-9的阶乘，提高效率</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> fact[] = &#123;<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">24</span>, <span class="number">120</span>, <span class="number">720</span>, <span class="number">5040</span>, <span class="number">40320</span>, <span class="number">362880</span>&#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> dx[]=&#123;<span class="number">-1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> dy[]=&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">1</span>&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    <span class="keyword">char</span> s[<span class="number">9</span>];</span><br><span class="line">    <span class="keyword">int</span> loc;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//康托展开编码函数</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">encode</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j,t,sum;</span><br><span class="line">    sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>( i=<span class="number">0</span>; i&lt;<span class="number">9</span> ;++i)</span><br><span class="line">    &#123;</span><br><span class="line">        t=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(j=i+<span class="number">1</span>;j&lt;<span class="number">9</span>;++j)</span><br><span class="line">            <span class="keyword">if</span>( a[i]&gt;a[j] )</span><br><span class="line">                ++t;</span><br><span class="line">        sum+=t*fact[<span class="number">9</span>-i<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//康托展开解码函数</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">decode</span><span class="params">(<span class="keyword">int</span> k,Node&amp; node)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j, t, vst[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    --k;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line">        t = k / fact[<span class="number">9</span> - i - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">1</span>; j &lt;= <span class="number">9</span>; j++)</span><br><span class="line">            <span class="keyword">if</span> (!vst[j]) &#123;</span><br><span class="line">                <span class="keyword">if</span> (t == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">                --t;</span><br><span class="line">            &#125;</span><br><span class="line">        node.s[i] = j;</span><br><span class="line">        vst[j] = <span class="number">1</span>;</span><br><span class="line">        k %= fact[<span class="number">9</span> - i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">9</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>((<span class="keyword">int</span>)node.s[i]==<span class="number">9</span>)&#123;</span><br><span class="line">            node.loc=i;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment">//搜索</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">(<span class="keyword">const</span> Node&amp; begin)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="keyword">sizeof</span>(vis));</span><br><span class="line">    <span class="keyword">int</span> code = encode(begin.s);</span><br><span class="line">    vis = <span class="number">1</span>;</span><br><span class="line">    par = <span class="number">-1</span>;<span class="comment">//保存了每一步的父节点,便于输出答案</span></span><br><span class="line"> </span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; que;<span class="comment">//BFS标准配置，队列一个，放入康托展开后的编码</span></span><br><span class="line">    que.push(code);</span><br><span class="line"> </span><br><span class="line">    Node n1, n2;</span><br><span class="line">    <span class="keyword">while</span>(!que.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u = que.front();</span><br><span class="line">        que.pop();</span><br><span class="line"> </span><br><span class="line">        decode(u, n1);</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">int</span> k = n1.loc;<span class="comment">//loc记下空格所在的位置，方便日后换位</span></span><br><span class="line">        <span class="keyword">int</span> x = k/<span class="number">3</span>;</span><br><span class="line">        <span class="keyword">int</span> y = k%<span class="number">3</span>;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">4</span>; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> nx = x + dx[i];</span><br><span class="line">            <span class="keyword">int</span> ny = y + dy[i];</span><br><span class="line">            <span class="keyword">if</span>(nx&gt;=<span class="number">0</span> &amp;&amp; nx&lt;<span class="number">3</span> &amp;&amp; ny&gt;=<span class="number">0</span> &amp;&amp; ny&lt;<span class="number">3</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                n2 = n1;</span><br><span class="line">                n2.loc = nx * <span class="number">3</span> + ny;</span><br><span class="line">                swap(n2.s[k], n2.s[n2.loc]);<span class="comment">//进行换位你</span></span><br><span class="line">                <span class="keyword">int</span> v = encode(n2.s);<span class="comment">//重新利用康托展开编码</span></span><br><span class="line">                <span class="keyword">if</span>(!vis[v])</span><br><span class="line">                &#123;</span><br><span class="line">                    dir[v] = i;<span class="comment">//保存方向</span></span><br><span class="line">                    vis[v] = <span class="number">1</span>;<span class="comment">//表示已经访问</span></span><br><span class="line">                    par[v] = u;<span class="comment">//记录父节点</span></span><br><span class="line">                    <span class="keyword">if</span>(v==<span class="number">1</span>)</span><br><span class="line">                        <span class="keyword">return</span>;</span><br><span class="line">                    que.push(v);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, u;</span><br><span class="line">    <span class="keyword">char</span> path[<span class="number">1000</span>];</span><br><span class="line">    n = <span class="number">1</span>;</span><br><span class="line">    path[<span class="number">0</span>] = dir[<span class="number">1</span>];</span><br><span class="line">    u = par[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">while</span>(par[u]!=<span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        path[n] = dir[u];</span><br><span class="line">        ++n;</span><br><span class="line">        u = par[u];</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=n<span class="number">-1</span>; i&gt;=<span class="number">0</span>; --i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(path[i]==<span class="number">0</span>)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"u"</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(path[i]==<span class="number">1</span>)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"d"</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(path[i]==<span class="number">2</span>)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"l"</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"r"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);</span><br><span class="line">    Node start;</span><br><span class="line">    <span class="keyword">char</span> c;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">9</span>; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; c;</span><br><span class="line">        <span class="keyword">if</span>(c==<span class="string">'x'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            start.s[i] = <span class="number">9</span>;<span class="comment">//当发现了x，将其变成9</span></span><br><span class="line">            start.loc = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            start.s[i] = c - <span class="string">'0'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    bfs(start);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span>(vis[<span class="number">1</span>]==<span class="number">1</span>)</span><br><span class="line">        output();</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"unsolvable"</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>接下来放上一个预告，别以为八数码问题这就解决了，在以后，我还会更新关于八数码的问题，那时候就得用上A*算法（启发式搜索）解决这个问题了。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://crazyeric00.github.io/2018/07/17/八数码问题（BFS+康托展开）/" data-id="cjjr83t9n000a4zjyp8l5mbiu" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-康托展开（全排列与自然数的双射）" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/16/康托展开（全排列与自然数的双射）/" class="article-date">
  <time class="post-time" datetime="2018-07-16T11:33:26.000Z" itemprop="datePublished">
    <span class="post-month">7月</span><br/>
    <span class="post-day">16</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/16/康托展开（全排列与自然数的双射）/">康托展开（全排列与自然数的双射）</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>今天来写一个比较简单的算法，叫做康托展开。 算法中使用编码与解码的场景是非常多的（例如我接下来要写的八数码问题），比如，一个九宫格中数字的排布，或者一个字符串字符的排布，如果我们使用map或者set来判定是否重复，是非常耗时的，有可能就会疯狂TLE，那么我们此时就可以选择康托先生发明的算法来用O(1)的时间解决重合的问题。<br><img src="/img/康托展开1.jpeg" alt="">首先介绍一下，这个人就叫康托，是一位德国的大数学家，主要是研究集合论的，还涉及到了实变函数等高端数学知识（不过这不是我们今天要讨论的），让我们看看19世纪的康托是怎么解决这个问题的。</p>
<h2 id="康托展开"><a href="#康托展开" class="headerlink" title="康托展开"></a>康托展开</h2><p>首先介绍一下康托展开的定义：康托展开是一个全排列到一个自然数的双射，常用于构建hash表时的空间压缩。设有n个数（1，2，3，4,…,n），可以有组成不同(n!种)的排列组合，康托展开表示的就是是当前排列组合在n个不同元素的全排列中的名次。 什么叫做双射呢，就是指双向映射，正好就对应于计算机中的编码与解码。其中的编码映射对应于这样一个公式： <strong><code>X=a[n]*(n-1)!+a[n-1]*(n-2)!+...+a[i]*(i-1)!+...+a[1]*0!</code></strong> 我们来解析一下a[n]代表的意思 <img src="/img/康托展开2.png" alt=""> 其中, a[i]为整数，并且0 &lt;= a[i] &lt;= i, 0 &lt;= i &lt; n, 表示当前未出现的的元素中排第几个，这就是康托展开。 例如有3个数（1，2，3），则其排列组合及其相应的康托展开值如下： <img src="/img/康托展开3.png" alt=""> 比如其中的 231：</p>
<ul>
<li>想要计算排在它前面的排列组合数目（123，132，213），则可以转化为计算算比首位小及小于2的所有排列「1 <em> 2！」，首位相等及为2第二位小于3的所有排列「1\</em>1！」，前两位相等及为23第三位小于1的所有排列（0*0！）的和即可，康托展开为：1*2！+1*1+0*0=3。</li>
<li>所以小于231的组合有3个，所以231的名次是4。</li>
</ul>
<p>再举个例子说明。 在（1，2，3，4，5）5个数的排列组合中，计算 34152的康托展开值。</p>
<ul>
<li>首位是3，则小于3的数有两个，为1和2，a[5]=2，则首位小于3的所有排列组合为 a[0]*(5-1)!</li>
<li>第二位是4，则小于4的数有两个，为1和2，注意这里3并不能算，因为3已经在第一位，所以其实计算的是在第二位之后小于4的个数。因此a[4]=2</li>
<li>第三位是1，则在其之后小于1的数有0个，所以a[3]=0</li>
<li>第四位是5，则在其之后小于5的数有1个，为2，所以a[2]=1</li>
<li>最后一位就不用计算啦，因为在它之后已经没有数了，所以a[1]固定为0</li>
<li>根据公式： <code>X = 2 * 4! + 2 * 3! + 0 * 2! + 1 * 1! + 0 * 0! = 2 * 24 + 2 * 6 + 1 = 61</code></li>
<li>所以比 34152 小的组合有61个，即34152是排第62</li>
</ul>
<p>具体代码实现如下：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> vis[<span class="number">362880</span>];<span class="comment">//因为9!=362880所以开辟362880，不放心可以多开几个</span></span><br><span class="line"><span class="keyword">int</span> fact[<span class="number">9</span>];<span class="comment">//保存0-8的阶乘值，方便计算</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;<span class="comment">//首先打印出0-8阶乘的值直接保存在fact数组</span></span><br><span class="line">    <span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(vis));</span><br><span class="line">    fact[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;<span class="number">9</span>;i++)&#123;</span><br><span class="line">        fact[i]=fact[i<span class="number">-1</span>]*i;<span class="comment">//使用前一个数组值快速求阶乘</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">encode</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *a)</span><span class="comment">//编码函数</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j,t,sum;</span><br><span class="line">    sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>( i=<span class="number">0</span>; i&lt;<span class="number">9</span> ;++i)</span><br><span class="line">    &#123;</span><br><span class="line">        t=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(j=i+<span class="number">1</span>;j&lt;<span class="number">9</span>;++j)</span><br><span class="line">            <span class="keyword">if</span>( a[i]&gt;a[j] )</span><br><span class="line">                ++t;</span><br><span class="line">        sum+=t*fact[<span class="number">9</span>-i<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="逆康托展开"><a href="#逆康托展开" class="headerlink" title="逆康托展开"></a>逆康托展开</h2><p>一开始已经提过了，康托展开是一个全排列到一个自然数的<strong>双射</strong>，因此是可逆的。即对于上述例子，在（1，2，3，4，5）给出61可以算出起排列组合为 34152。由上述的计算过程可以容易的逆推回来，具体过程如下：</p>
<ul>
<li>用 61 / 4! = 2余13，说明a[5]=2,说明比首位小的数有2个，所以首位为3。</li>
<li>用 13 / 3! = 2余1，说明a[4]=2，说明在第二位之后小于第二位的数有2个，所以第二位为4。</li>
<li>用 1 / 2! = 0余1，说明a[3]=0，说明在第三位之后没有小于第三位的数，所以第三位为1。</li>
<li>用 1 / 1! = 1余0，说明a[2]=1，说明在第二位之后小于第四位的数有1个，所以第四位为5。</li>
<li>最后一位自然就是剩下的数2啦。</li>
<li>通过以上分析，所求排列组合为 34152。</li>
</ul>
<p>这里放上一段简洁的逆康托展开的代码(经过测试无误)：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">decode</span><span class="params">(<span class="keyword">int</span> k,<span class="keyword">int</span>* node)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j, t, vst[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    --k;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line">        t = k / fact[<span class="number">9</span> - i - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">1</span>; j &lt;= <span class="number">9</span>; j++)</span><br><span class="line">            <span class="keyword">if</span> (!vst[j]) &#123;</span><br><span class="line">                <span class="keyword">if</span> (t == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">                --t;</span><br><span class="line">            &#125;</span><br><span class="line">        node[i] = j;</span><br><span class="line">        vst[j] = <span class="number">1</span>;</span><br><span class="line">        k %= fact[<span class="number">9</span> - i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://crazyeric00.github.io/2018/07/16/康托展开（全排列与自然数的双射）/" data-id="cjjr83t9r000e4zjy22p52c9y" class="article-share-link">分享</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/排列组合/">排列组合</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-Leetcode周赛第93场题解" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/15/Leetcode周赛第93场题解/" class="article-date">
  <time class="post-time" datetime="2018-07-15T13:53:00.000Z" itemprop="datePublished">
    <span class="post-month">7月</span><br/>
    <span class="post-day">15</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/15/Leetcode周赛第93场题解/">Leetcode周赛第93场题解</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>,<a class="article-category-link" href="/categories/ACM/LeetCode/">LeetCode</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>今天上午打了场leetcode周竞赛。终于进了两百名，灰常开心。<br><img src="http://39.107.233.145/wp-content/uploads/2018/07/AK-1024x479.png" alt=""><br><img src="http://39.107.233.145/wp-content/uploads/2018/07/排名-1024x323.png" alt=""><br>以下是解题报告。<br>附上传送门：<a href="https://leetcode-cn.com/contest/weekly-contest-93" target="_blank" rel="noopener">https://leetcode-cn.com/contest/weekly-contest-93</a> </p>
<h4 id="1-二进制间距"><a href="#1-二进制间距" class="headerlink" title=" 1.二进制间距  "></a><font color="#ff0000"> 1.二进制间距  </font></h4><p>首先第一题叫做二进制间距，就是判断一个数字变成二进制后两个1之间的距离，这题纯考细节。先找到一个1，然后用变量t记忆这个1的位置，然后找到下一个1的位置然后相减即可。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    int binaryGap(int N) &#123;</span><br><span class="line">        int move=0,t=0,ans=0,times=0;</span><br><span class="line">        while(N&gt;0)&#123;</span><br><span class="line">            if(N&amp;1)&#123;</span><br><span class="line">                times++;</span><br><span class="line">                if(times&gt;1)</span><br><span class="line">                    ans=max(ans,move-t);</span><br><span class="line">                t=move;</span><br><span class="line">            &#125;</span><br><span class="line">            N=N&gt;&gt;1;</span><br><span class="line">            move++;</span><br><span class="line">        &#125;</span><br><span class="line">        if(times&lt;=1)</span><br><span class="line">            ans=0;</span><br><span class="line">        return ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h4 id="2-重排序得到2的幂"><a href="#2-重排序得到2的幂" class="headerlink" title=" 2.重排序得到2的幂  "></a><font color="#ff0000"> 2.重排序得到2的幂  </font></h4><p>第二题我没有想到灵巧的解题方式，所以直接使用全排列，先将数字分解，然后使用全排列（注意开头是0的情况必须剔除掉），最后使用位运 算，使得这个数字的二进制表示只有一个1，如果出现了两个及以上，立即剪枝。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    bool reorderedPowerOf2(int N) &#123;</span><br><span class="line">        int s[9],i=0;</span><br><span class="line">        while(N)&#123;</span><br><span class="line">            s[i++]=N%10;</span><br><span class="line">            N/=10;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(s,s+i);</span><br><span class="line">        long long t;</span><br><span class="line">        int flag;</span><br><span class="line">        do&#123;</span><br><span class="line">            if(s[0]==0)</span><br><span class="line">                continue;</span><br><span class="line">            int mul=1;</span><br><span class="line">            t=0;</span><br><span class="line">            for(int j=i-1;j&gt;=0;j--)&#123;</span><br><span class="line">                t+=s[j]*mul;</span><br><span class="line">                mul*=10;</span><br><span class="line">            &#125;</span><br><span class="line">            int times=0;</span><br><span class="line">            flag=1;</span><br><span class="line">            while(t)&#123;</span><br><span class="line">                if(t&amp;1)</span><br><span class="line">                    times++;</span><br><span class="line">                if(times&gt;1)&#123;</span><br><span class="line">                    flag=0;</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">                t=t&gt;&gt;1;</span><br><span class="line">            &#125;</span><br><span class="line">            if(flag)</span><br><span class="line">                break;</span><br><span class="line">        &#125;while(next_permutation(s,s+i));</span><br><span class="line">        if(flag)</span><br><span class="line">            return true;</span><br><span class="line">        else</span><br><span class="line">            return false;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="3-优势洗牌"><a href="#3-优势洗牌" class="headerlink" title=" 3.优势洗牌   "></a><font color="#ff0000"> 3.优势洗牌   </font></h4><p>这个问题非常类似于田忌赛马（这个比喻我觉得非常恰当），所以显而易见的我们必须对A数组与B数组进行排序，但是问题在于B数组的原来的 位置我们需要想办法保存下来，因为我们需要输出A数组，当然得与B数组的原来位置一一映射。我一开始使用了map保存了B数组的位置，但是数据量比较大，没想到居然爆内存了。转念过来一想其实直接用pair&lt;int,int&gt;就够了，所以改完之后内存就不爆了。 然后就是upper_bound二分查找，将结果写入ans对应于B数组的原来位置，如果upper_bound没成功，就把A数组最小值放入，类似于田忌赛马中拿下等马去糊弄对方上等马一样。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    vector&lt;int&gt; advantageCount(vector&lt;int&gt;&amp; A, vector&lt;int&gt;&amp; B) &#123;</span><br><span class="line">        vector&lt;pair&lt;int,int&gt;&gt; mp;</span><br><span class="line">         vector&lt;int&gt; ans;</span><br><span class="line">        for(int i=0;i&lt;B.size();i++)&#123;</span><br><span class="line">            mp.push_back(make_pair(B[i],i));</span><br><span class="line">            ans.push_back(-1);</span><br><span class="line">        &#125;</span><br><span class="line">        sort(mp.begin(),mp.end());</span><br><span class="line">        sort(A.begin(),A.end());</span><br><span class="line">        for(int i=0;i&lt;B.size();i++)&#123;</span><br><span class="line">            vector&lt;int&gt;::iterator it=upper_bound(A.begin(),A.end(),mp[i].first);</span><br><span class="line">            if(it!=A.end())&#123;</span><br><span class="line">                ans[mp[i].second]=*it;</span><br><span class="line">                *it=-1;</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                int j;</span><br><span class="line">                for(j=0;j&lt;A.size()&amp;&amp;A[j]==-1;j++);</span><br><span class="line">                ans[mp[i].second]=A[j];</span><br><span class="line">                A[j]=-1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h4 id="4-最低加油次数"><a href="#4-最低加油次数" class="headerlink" title=" 4.最低加油次数  "></a><font color="#ff0000"> 4.最低加油次数  </font></h4><p>这道题的关键在于思想的转变，很多人会纠结于加油站的选择问题，其实我们可以换个角度思考。 我们可以让车一直跑，在车消耗掉所有的油之后，我们可以获得已经路过的加油站加油的权利，而不是每到一个加油站都去纠结一下到底加不加油。所以，每当车跑过一个加油站，我们就把这个加油站的油加入优先队列，当车没油时就拿出优先队列最上面的一份（一定是最多的一份）给车加油。相应地，如果车又没油了队列又空了，那么就说明这车跑不到了<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    int minRefuelStops(int target, int startFuel, vector&lt;vector&lt;int&gt;&gt;&amp; stations) &#123;</span><br><span class="line">        vector&lt;int&gt; end;</span><br><span class="line">        end.push_back(target);</span><br><span class="line">        end.push_back(0);</span><br><span class="line">        stations.push_back(end);</span><br><span class="line">        priority_queue&lt;int&gt; que;</span><br><span class="line">        int ans=0,pos=0;</span><br><span class="line">        for(int i=0;i&lt;stations.size();i++)&#123;</span><br><span class="line">            int d=stations[i][0]-pos;</span><br><span class="line">            while(startFuel-d&lt;0)&#123;</span><br><span class="line">                if(que.empty())&#123;</span><br><span class="line">                    return -1;</span><br><span class="line">                &#125;</span><br><span class="line">                startFuel+=que.top();</span><br><span class="line">                que.pop();</span><br><span class="line">                ans++;</span><br><span class="line">            &#125;</span><br><span class="line">            startFuel-=d;</span><br><span class="line">            pos=stations[i][0];</span><br><span class="line">            que.push(stations[i][1]);</span><br><span class="line">        &#125;</span><br><span class="line">        return ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h4 id="OK-这次leetcode周赛的解题报告就结束了，我们下周见！-PS：欢迎喜欢算法的同学一起来刷题讨论！"><a href="#OK-这次leetcode周赛的解题报告就结束了，我们下周见！-PS：欢迎喜欢算法的同学一起来刷题讨论！" class="headerlink" title="OK,这次leetcode周赛的解题报告就结束了，我们下周见！ PS：欢迎喜欢算法的同学一起来刷题讨论！"></a>OK,这次leetcode周赛的解题报告就结束了，我们下周见！ PS：欢迎喜欢算法的同学一起来刷题讨论！</h4>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://crazyeric00.github.io/2018/07/15/Leetcode周赛第93场题解/" data-id="cjjr83t9k00054zjycpvvq77k" class="article-share-link">分享</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/竞赛/">竞赛</a></li></ul>

    </footer>
  </div>
  
</article>




  
    <article id="post-回溯法：n皇后问题（C++与Python3）" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/07/回溯法：n皇后问题（C++与Python3）/" class="article-date">
  <time class="post-time" datetime="2018-07-07T11:41:40.000Z" itemprop="datePublished">
    <span class="post-month">7月</span><br/>
    <span class="post-day">07</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/07/回溯法：n皇后问题（C++与Python3）/">回溯法：n皇后问题（C++与Python3）</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <pre><code>hello，我又更新博客了。今天来写一个非常著名的算法——回溯法，而且这次加上了Python的代码实现。  

那么首先来介绍一下今天的主角——回溯法。先借用刘汝佳大佬的话：回溯法是初学者学习暴力法的第一个障碍，学习时间短则数天，长则数月甚至一年以上。听起来有点吓人，对于回溯法，我个人的理解是DFS（深度优先搜索）的一种转化，先对所求目标深入查找，成功则输出，失败则将深入查找过程中修改的值改回来然后换一条路继续搜。

回溯法是一种选优搜索法，按选优条件向前搜索，以达到目标。但当探索到某一步时，发现原先选择并不优或达不到目标，就退回一步重新选择，这种走不通就退回再走的技术为回溯法，而满足回溯条件的某个状态的点称为“回溯点”。

许多复杂的，规模较大的问题都可以使用回溯法，有“通用解题方法”的美称。
</code></pre><p>我们先从八皇后问题开始看起：八皇后问题，是一个古老而著名的问题，是[回溯算法]的典型案例。该问题是国际西洋棋棋手马克斯·贝瑟尔于1848年提出：在8×8格的国际象棋上摆放八个皇后，使其不能互相攻击，即任意两个皇后都不能处于同一行、同一列或同一斜线上，问有多少种摆法。 [高斯]认为有76种方案。1854年在柏林的象棋杂志上不同的作者发表了40种不同的解，后来有人用图论的方法解出92种结果。计算机发明后，有多种计算机语言可以解决此问题。</p>
<p>八皇后问题是一个以国际象棋为背景的问题：如何能够在 8×8 的国际象棋棋盘上放置八个皇后，使得任何一个皇后都无法直接吃掉其他的皇后？为了达到此目的，任两个皇后都不能处于同一条横行、纵行或斜线上。八皇后问题可以推广为更一般的n皇后摆放问题：这时棋盘的大小变为n1×n1，而皇后个数也变成n2。而且仅当 n2 = 1 或 n1 ≥ 4 时问题有解。</p>
<pre><code>八皇后问题最早是由国际西洋棋棋手马克斯·贝瑟尔于1848年提出。之后陆续有数学家对其进行研究，其中包括高斯和康托，并且将其推广为更一般的n皇后摆放问题。八皇后问题的第一个解是在1850年由弗朗兹·诺克给出的。诺克也是首先将问题推广到更一般的n皇后摆放问题的人之一。1874年，S.冈德尔提出了一个通过行列式来求解的方法，这个方法后来又被J.W.L.格莱舍加以改进。

艾兹格·迪杰斯特拉在1972年用这个问题为例来说明他所谓结构性编程的能力。没错就是我们最短路径dijkstra算法的创造者（有兴趣的童鞋可以去了解一下这个牛人和他创造的算法）
</code></pre><p><img src="/img/n皇后.jpeg" alt=""><br>上图的皇后排布就是一种解法 我们举一反三，如何解决N皇后的问题呢，我们的思路如下：本算法的思路是按行来规定皇后位置，第一行放置一个皇后，第二行放置一个皇后， 第N行也放置一个皇后… 这样， 可以保证每行都有一个皇后，那么各行的皇后应该放置在那一列呢， 算法通过循环来完成，在循环的过程中， 一旦找到一个合适的列，则该行的皇后位置确定，则继续进行下一行的皇后的位置的确定。由于每一行确定皇后位置的方式相似，所以可以使用递归法。一旦最后 一行的皇后位置确定，则可以得到一组解。找到一组解之后， 之前确定皇后应该放置在哪一列的循环其实才进行了一轮循环的， 算法通过该循环遍历所有的列，以此确定每一行所有可能的列的位置。在从一轮循环进入下一轮循环之前，算法需要清除在上一轮被标记为不可放置皇后的标记，也就是回溯。因为进入下一轮循环之后，同一行的皇后的列的位置会发生了变化，之前被标记为不可放置皇后的列和正反对角线位置都已经失效<br>下面给出N皇后问题代码实现: </p>
<h4 id="C-版本："><a href="#C-版本：" class="headerlink" title="C++版本："></a>C++版本：</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">int</span> tot;</span><br><span class="line"><span class="keyword">int</span> vis[<span class="number">3</span>][<span class="number">100</span>];<span class="comment">//使用二维数组，分别枚举列和两个对角线</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">queen</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">int</span> *A,<span class="keyword">int</span> cur)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(cur==n)</span><br><span class="line">        tot++;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!vis[<span class="number">0</span>][i]&amp;&amp;!vis[<span class="number">1</span>][i+cur]&amp;&amp;!vis[<span class="number">2</span>][cur-i+n])&#123;</span><br><span class="line">                A[cur]=i;</span><br><span class="line">                vis[<span class="number">0</span>][i]=vis[<span class="number">1</span>][i+cur]=vis[<span class="number">2</span>][cur-i+n]=<span class="number">1</span>;</span><br><span class="line">                queen(n,A,cur+<span class="number">1</span>);</span><br><span class="line">                vis[<span class="number">0</span>][i]=vis[<span class="number">1</span>][i+cur]=vis[<span class="number">2</span>][cur-i+n]=<span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n) &#123;</span><br><span class="line">        <span class="keyword">int</span> *a = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">10</span>];</span><br><span class="line">        <span class="built_in">memset</span>(vis,<span class="number">0</span>, <span class="keyword">sizeof</span>(vis));</span><br><span class="line">        tot=<span class="number">0</span>;</span><br><span class="line">        queen(n,a,<span class="number">0</span>);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; tot &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="python3版本："><a href="#python3版本：" class="headerlink" title="python3版本："></a>python3版本：</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#这种是常规版的，使用一位数组回溯</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">queen</span><span class="params">(c,cur)</span>:</span></span><br><span class="line">    <span class="keyword">if</span>(cur==n):</span><br><span class="line">        <span class="keyword">global</span> tot</span><br><span class="line">        tot+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,n):</span><br><span class="line">            ok=<span class="number">1</span></span><br><span class="line">            c[cur]=i;</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>,cur):</span><br><span class="line">                <span class="keyword">if</span>(c[cur]==c[j] <span class="keyword">or</span> cur-c[cur]==j-c[j] <span class="keyword">or</span> cur+c[cur]==j+c[j]):</span><br><span class="line">                    ok=<span class="number">0</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">if</span>(ok):</span><br><span class="line">                queen(c,cur+<span class="number">1</span>)</span><br><span class="line"><span class="comment">#这个跟上面的C++版本相同，使用了二维数组存储</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">queen2</span><span class="params">(c,cur)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> tot</span><br><span class="line">    <span class="keyword">global</span> vis</span><br><span class="line">    <span class="keyword">if</span>(cur==n):</span><br><span class="line">        tot+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            <span class="keyword">if</span>(vis[<span class="number">0</span>][i] == <span class="number">0</span> <span class="keyword">and</span> vis[<span class="number">1</span>][cur+i] == <span class="number">0</span> <span class="keyword">and</span> vis[<span class="number">2</span>][cur+n-i] == <span class="number">0</span>):</span><br><span class="line">                c[cur]=i</span><br><span class="line">                vis[<span class="number">0</span>][i]=vis[<span class="number">1</span>][cur+i]=vis[<span class="number">2</span>][cur+n-i]=<span class="number">1</span></span><br><span class="line">                queen2(c,cur+<span class="number">1</span>)</span><br><span class="line">                vis[<span class="number">0</span>][i]=vis[<span class="number">1</span>][cur+i]=vis[<span class="number">2</span>][cur+n-i]=<span class="number">0</span></span><br><span class="line"><span class="comment">#主函数</span></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            n=int(input());</span><br><span class="line">            tot=<span class="number">0</span></span><br><span class="line">            vis=[[<span class="number">0</span> <span class="keyword">for</span> col <span class="keyword">in</span> range(n+<span class="number">10</span>)] <span class="keyword">for</span> row <span class="keyword">in</span> range(<span class="number">3</span>)]</span><br><span class="line">            print(vis)</span><br><span class="line">            c=[<span class="number">0</span>]*n</span><br><span class="line">            queen2(c,<span class="number">0</span>)</span><br><span class="line">            print(tot)</span><br><span class="line">        <span class="keyword">except</span> EOFError:</span><br><span class="line">            <span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<p>OK，今天的回溯法讲完了，当然这只是回溯法的九牛一毛而已，接下来会给大家带来更多回溯法的应用问题</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://crazyeric00.github.io/2018/07/07/回溯法：n皇后问题（C++与Python3）/" data-id="cjjr83t9p000c4zjyuvekirdq" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-uva10410：树重建" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/01/uva10410：树重建/" class="article-date">
  <time class="post-time" datetime="2018-06-30T17:36:19.000Z" itemprop="datePublished">
    <span class="post-month">6月</span><br/>
    <span class="post-day">30</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/01/uva10410：树重建/">UVA10410题：树重建</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>,<a class="article-category-link" href="/categories/ACM/UVA/">UVA</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>今天还是一道关于DFS与BFS的题目，但是对于两种搜索挖的有点深，基本上能学到很多关于DFS与BFS的性质。 废话不多说，我们先来看看<a href="https://vjudge.net/problem/UVA-10410" target="_blank" rel="noopener">https://vjudge.net/problem/UVA-10410</a><br><img src="/img/树重建1.png" alt=""> <img src="/img/树重建2.png" alt=""><br>我中文大概概括一下，题目给出n个结点并先后给出BFS序和DFS序，然后你需要用这两个序列还原整棵树（如果有多种输出一种即可）。 额，题目意思非常简洁易懂，但是这题想想明白确实没那么容易（花了好久深入思考了BFS和DFS序，以前真没有仔细研究过，好题好题）。<br><img src="/img/树重建3.jpg" alt=""><br><img src="/img/树重建4.jpg" alt=""><br><img src="/img/树重建5.jpg" alt=""><br><img src="/img/树重建6.jpg" alt=""><br><img src="/img/树重建7.jpg" alt=""><br><img src="/img/树重建8.jpg" alt=""> </p>
<p>####所以我们用邻接表和栈可以过这题。下面贴上代码：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">1010</span>;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; G[maxn];</span><br><span class="line"><span class="keyword">int</span> num[maxn];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n)&#123;</span><br><span class="line">        <span class="keyword">int</span> t;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123; <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">            num[t]=i;</span><br><span class="line">            G[i].clear();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">        <span class="keyword">int</span> root=t;</span><br><span class="line">        <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line">        s.push(root);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123; <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">            <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">                <span class="keyword">int</span> u=s.top();</span><br><span class="line">                <span class="keyword">if</span>(num[u]+<span class="number">1</span>&lt;num[t]||(num[u]+<span class="number">1</span>==num[t]&amp;&amp;u&gt;t))&#123;</span><br><span class="line">                    G[u].push_back(t);</span><br><span class="line">                    s.push(t);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    s.pop();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">':'</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;G[i].size();j++)&#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt;<span class="string">' '</span>&lt;&lt; G[i][j];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>最后今天晚上法国打阿根廷了，虽然不怎么看好这届阿根廷，但<br><img src="http://39.107.233.145/wp-content/uploads/2018/06/8.gif" alt=""></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://crazyeric00.github.io/2018/07/01/uva10410：树重建/" data-id="cjjr83t9l00064zjyh8ahrleg" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-记录第一次与朋友的Codeforces-Div2比赛" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/04/27/记录第一次与朋友的Codeforces-Div2比赛/" class="article-date">
  <time class="post-time" datetime="2018-04-26T16:46:12.000Z" itemprop="datePublished">
    <span class="post-month">4月</span><br/>
    <span class="post-day">26</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/04/27/记录第一次与朋友的Codeforces-Div2比赛/">记录第一次与朋友的Codeforces div2比赛</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>,<a class="article-category-link" href="/categories/ACM/Codeforces/">Codeforces</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近练习算法倍感无聊，所以与同学在鼎鼎大名的codeforces上练了练手。不得不说两小时紧张题目还是非常刺激的（特别还是在学校组织的上机时间内完成的），codeforces的题还是非常困难且考验脑力的，最后在争论下，以2次过A题以及幸运的一次过D题而结束。然而在我赛后的研究后，其实B，C二题并不是非常困难，之后我也把B，C两题给A了。今天写这篇文章就是来总结一下这四道题的各种解法以及观摩rating榜上大神的解法。</p>
<p>先来说说A题，其实A题说白了就是找到达数组和一半的数字。看似简单的一题往往会在测试数据上下套，所以这里用到一个上课不讲的技巧</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ios_base::sync_with_stdio(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);</span><br></pre></td></tr></table></figure>
<p>这两句话用于决定C++标准streams(cin,cout,cerr…)是否与相应的C标准程序库文件(stdin,stdout,stderr)同步，同步意味着带 来更多的负担，cin.tie(0)用于解除cin cout绑定。通俗来讲，就可以反复读取一大段一大段的输入，在codeforces这种几乎变态的测试 数据下尤为有效。然后就是开一个贼大的long long数组，一开始的错误就是因为没有处理好超大数据而导致了一次WA。下面附上我A题的AC 代码</p>
<figure class="highlight cpp"><figcaption><span>A题</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"> </span><br><span class="line"> <span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"> <span class="keyword">long</span> <span class="keyword">long</span> a[<span class="number">200005</span>];</span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios_base::sync_with_stdio(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">         <span class="built_in">memset</span>(a,<span class="number">0</span>,<span class="keyword">sizeof</span>(a));</span><br><span class="line">         <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">                <span class="built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">                a[i]+=a[i<span class="number">-1</span>];</span><br><span class="line">           &#125;</span><br><span class="line">         <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(a[i]&gt;=(a[n]+<span class="number">1</span>)/<span class="number">2</span>)&#123;</span><br><span class="line">                         <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                         <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">            &#125;</span><br><span class="line">     <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>是不是觉得除了一些细节，A题还是特别简单的，这可是codeforces的开胃菜而已！！ 接下来就是刺激的B题了(此题并不算难，可是如果不能做到及时化繁为简，很容易绕到圈子里)  首先这是一个排座位的题目，a个A类同学与b个B类同学上火车，火车上有一排座位，座位上放有以‘<em>’表示的墙（我把题的意思简化了， 本来的题意并没有这么无聊），然后限制条件是A和B不能相邻，但是AB类同学旁边都可以放‘</em>’。求最多能放的AB同学的总和。 这个题一上来非常令人害怕，特别是我涛哥（这里艾特下我涛哥）快炸了，其实后来细想并没有刚开始想的这么复杂，主要得抓住问题的 关键–尽可能的多放入A和B，还有一个关键点是<em>号的存在直接导致了思维难度的升高。这里为了理解起来更加的方便，我们先考虑没有</em> 的情况 看吧，是不是特别简单！只要考虑A和B足够的情况下交叉排放即可，所以在没有碰到*的时候，我 们的代码就及其地简单了。通过对前一个变量pre的维护，就可以做到当前一个为A时有B放B，前一个为B时有A放A</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(pre==<span class="string">' '</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(a&gt;b&amp;&amp;a&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                    a--;</span><br><span class="line">                    pre=<span class="string">'a'</span>;</span><br><span class="line">                    sum++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    b--;</span><br><span class="line">                    pre=<span class="string">'b'</span>;</span><br><span class="line">                    sum++;</span><br><span class="line">                &#125;</span><br></pre></td></tr></table></figure>
<p>所以本题的代码的难度几乎都在如何处理‘<em>’上，那么这就要思考一个问题了，如果我们遇到</em>了，我们究竟该怎么在<em>的左右放AB才能使 AB的数量最大化的。这就要引入这道题的核心–平衡了，从无</em>的情况可以得知，A和B必须交替放置才可以使利益最大化，所以，我在无墙的 空地上必须尽可能地使AB的数量不要相差太多。那么，在遇到<em>时我们就知道该干什么了，这不赶紧把数量多的塞进</em>的左右两边，这样在后续 地放置中才可以更加平衡，也可以放更多的A和B，下面贴出AC代码</p>
<figure class="highlight cpp"><figcaption><span>B题</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> n,a,b,sum=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; a &gt;&gt; b;</span><br><span class="line">    <span class="keyword">char</span> *s=<span class="keyword">new</span> <span class="keyword">char</span>[n+<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;s[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">char</span> pre=<span class="string">' '</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i]==<span class="string">'.'</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(pre==<span class="string">' '</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(a&gt;b&amp;&amp;a&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                    a--;</span><br><span class="line">                    pre=<span class="string">'a'</span>;</span><br><span class="line">                    sum++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    b--;</span><br><span class="line">                    pre=<span class="string">'b'</span>;</span><br><span class="line">                    sum++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(pre==<span class="string">'a'</span>&amp;&amp;b&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                b--;</span><br><span class="line">                pre=<span class="string">'b'</span>;</span><br><span class="line">                sum++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(pre==<span class="string">'b'</span>&amp;&amp;a&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                a--;</span><br><span class="line">                pre=<span class="string">'a'</span>;</span><br><span class="line">                sum++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                pre=<span class="string">' '</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            pre=<span class="string">' '</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(a==<span class="number">0</span>&amp;&amp;b==<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; sum &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>今天就先更新到B题，更加刺激精彩的C、D两题以后再写，各位晚安。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://crazyeric00.github.io/2018/04/27/记录第一次与朋友的Codeforces-Div2比赛/" data-id="cjjr83t9u000j4zjyqgirgpvr" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-杭电ACM1501题：DFS算法与记忆化搜索" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/04/26/杭电ACM1501题：DFS算法与记忆化搜索/" class="article-date">
  <time class="post-time" datetime="2018-04-26T11:18:09.000Z" itemprop="datePublished">
    <span class="post-month">4月</span><br/>
    <span class="post-day">26</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/04/26/杭电ACM1501题：DFS算法与记忆化搜索/">杭电ACM1501题 ：DFS算法与记忆化搜索</a>
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>,<a class="article-category-link" href="/categories/ACM/杭电oj/">杭电oj</a>
  </div>

          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>今天准备写一篇关于深搜的题，这是一道经典的深搜题<a href="http://acm.hdu.edu.cn/showproblem.php?pid=1501" target="_blank" rel="noopener">http://acm.hdu.edu.cn/showproblem.php?pid=1501</a>   </p>
<p>题目的大致意思就是有两个单词 tree（A） 和 cat（B） ，保持这两个单词的字母顺序，然后将这两个单词揉合成一个新的单词C，当这个新单词的符合前两个单词的字母顺序时就输出yes，如果新单词打乱了原来这两个单词的字母顺序，输出no。 刚开始做题比较难看出这题是深度搜索，所以一开始的思考方式是三个指针维护三个字符串，用C字符串往后迭代，遇到与A或B相同的字符就将A或B的指针往前移动。那么这个方法很快就会遇到问题。 </p>
<p>上面的例子很幸运地避开了纠结的情况，但是我们不可避免的会遇到i=j=k的情况，这样程序就出现了“分支”那么既然可能会产生如此多的子问题，那么自然而然又变成了深度搜索问题，通过一次一次的函数递归往下深入地搜索，解决多种情况，那么我一开始的计划就是定义一个bool类型返回值的dfs函数。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y,<span class="keyword">int</span> z)</span></span>&#123;</span><br><span class="line">    <span class="comment">//x作为a字符串的标记，y作为字符串b的标记，z作为s字符串的标记</span></span><br><span class="line">    <span class="keyword">if</span>(z==s.length())&#123;</span><br><span class="line">        <span class="comment">//给出一个正确答案的出口，只要有一条路通往z==s.length()</span></span><br><span class="line">        <span class="comment">//那么这条路一定是所有分支中最长的路，也是最后return的路</span></span><br><span class="line">        <span class="comment">//所以只要有一个正确答案，就会把之前return的false覆盖掉</span></span><br><span class="line">        <span class="keyword">if</span>(x==a.length()&amp;&amp;y==b.length())</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//当a和b都找不到这个s的字符时，这个答案必定是no，直接return</span></span><br><span class="line">    <span class="keyword">if</span>(s[z]!=a[x]&amp;&amp;s[z]!=b[y])</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="comment">//当a和b两者都可以选择时，路径的向上返回的出口设置为二者的或运算</span></span><br><span class="line">    <span class="comment">//这一步很容易与下面的代码产生多余的搜索，这也是第一次的超时的原因</span></span><br><span class="line">    <span class="keyword">if</span>(s[z]==a[x]&amp;&amp;s[z]==b[y])</span><br><span class="line">        <span class="keyword">return</span> dfs(x+<span class="number">1</span>,y,z+<span class="number">1</span>)||dfs(x,y+<span class="number">1</span>,z+<span class="number">1</span>);</span><br><span class="line">    <span class="comment">//这两步就是正常的a，b标记向后移动</span></span><br><span class="line">    <span class="keyword">if</span>(s[z]==a[x])</span><br><span class="line">        <span class="keyword">return</span> dfs(x+<span class="number">1</span>,y,z+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span>(s[z]==b[y])</span><br><span class="line">        <span class="keyword">return</span> dfs(x,y+<span class="number">1</span>,z+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面是完整代码<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">string</span> a,b,s;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y,<span class="keyword">int</span> z)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(z==s.length())&#123;</span><br><span class="line">        <span class="keyword">if</span>(x==a.length()&amp;&amp;y==b.length())</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(s[z]!=a[x]&amp;&amp;s[z]!=b[y])</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(s[z]==a[x]&amp;&amp;s[z]==b[y])</span><br><span class="line">        <span class="keyword">return</span> dfs(x+<span class="number">1</span>,y,z+<span class="number">1</span>)||dfs(x,y+<span class="number">1</span>,z+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span>(s[z]==a[x])</span><br><span class="line">        <span class="keyword">return</span> dfs(x+<span class="number">1</span>,y,z+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span>(s[z]==b[y])</span><br><span class="line">        <span class="keyword">return</span> dfs(x,y+<span class="number">1</span>,z+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> cas;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;cas)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> cot=<span class="number">0</span>;cot&lt;cas;cot++)&#123; <span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b&gt;&gt;s;</span><br><span class="line">            <span class="keyword">if</span>(dfs(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>))</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"yes"</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"no"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>但是别以为这题就完了，提交到杭电oj，马上就回我一个超时，想来也是，过多的return一定会导致复杂度呈指数型增长。 所以我们需要对深搜进行剪枝，那么就得使用记忆化搜索。 所以定义一个flag的标记数组，然后把返回值设置为void，返回值直接存入flag进行记忆，这样当深度搜索进入到相同的路径时，就可以使用flag数组及时阻止。<br>以下就是AC的代码 </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">string</span> a,b,s;</span><br><span class="line"><span class="keyword">bool</span> ans;</span><br><span class="line"><span class="keyword">int</span> flag[<span class="number">300</span>][<span class="number">300</span>];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y,<span class="keyword">int</span> z)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(z==s.length()&amp;&amp;x==a.length()&amp;&amp;y==b.length())&#123;</span><br><span class="line">            ans=<span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(s[z]!=a[x]&amp;&amp;s[z]!=b[y])</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(flag[x][y])</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    flag[x][y]=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(s[z]==a[x])</span><br><span class="line">        dfs(x+<span class="number">1</span>,y,z+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span>(s[z]==b[y])</span><br><span class="line">        dfs(x,y+<span class="number">1</span>,z+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> cas;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;cas)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> cot=<span class="number">1</span>;cot&lt;=cas;cot++)&#123; </span><br><span class="line">        	ans=<span class="literal">false</span>; </span><br><span class="line">            <span class="built_in">memset</span>(flag,<span class="number">0</span>,<span class="keyword">sizeof</span>(flag)); </span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b&gt;&gt;s;</span><br><span class="line">            dfs(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">if</span>(ans)</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt;<span class="string">"Data set "</span>&lt;&lt;cot&lt;&lt;<span class="string">": "</span>&lt;&lt; <span class="string">"yes"</span> &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt;<span class="string">"Data set "</span>&lt;&lt;cot&lt;&lt;<span class="string">": "</span>&lt;&lt; <span class="string">"no"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下次继续研究广搜与深搜，计划是杭电oj的1072题</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://crazyeric00.github.io/2018/04/26/杭电ACM1501题：DFS算法与记忆化搜索/" data-id="cjjr83t9s000h4zjypo9gm94f" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  

</section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <h1 class="blog-title">In The End</h1>
    <h2 class="blog-subtitle">Eric的个人博客</h2>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>主页</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>归档</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>分类</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>标签</li>
          </a>
        
    </ul>
  </div>
</div>

  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="/images/avatar.jpg">
    <h2 class="author">Eric</h2>
    <h3 class="description">爱好ACM与算法</h3>
    <div class="count-box">
      <a href="/archives"><div><strong>9</strong><br>文章</div></a>
      <a href="/categories"><div><strong>7</strong><br>分类</div></a>
      <a href="/tags"><div><strong>2</strong><br>标签</div></a>
    </div>



    <div class="social-link">
      
        <a class="hvr-bounce-in" href="http://github.com/ShanaMaid" target="_blank" title="Github">
          Github
        </a>
      
    </div>

    <div class="friend-link">
      <h2>友情链接</h2>
      
        <a class="hvr-bounce-in" href="http://blog.shanamaid.top/" target="_blank" title="ShanaMaid">
          ShanaMaid
        </a>
      
    </div>
  </div>
</div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy;2017 - 2018 Eric<br>
      由<a href="http://hexo.io/" target="_blank">Hexo</a>强力驱动 | 
      主题-<a href="https://github.com/ShanaMaid/hexo-theme-shana">Shana</a>
      
    </div>
    
  </div>
</footer>
    </div>
    

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="//apps.bdimg.com/libs/wow/0.1.6/wow.min.js"></script>
<script>
new WOW().init();
</script>   


  <link rel="stylesheet" href="/plugin/fancybox/jquery.fancybox.css">
  <script src="/plugin/fancybox/jquery.fancybox.pack.js"></script>



  <link rel="stylesheet" href="/plugin/galmenu/GalMenu.css">
  <script src="/plugin/galmenu/GalMenu.js"></script>
  <div class="GalMenu GalDropDown">
      <div class="circle" id="gal">
        <div class="ring">
          
            <a href="/" title="" class="menuItem">首页</a>
          
            <a href="/tags" title="" class="menuItem">标签</a>
          
            <a href="/categories" title="" class="menuItem">分类</a>
          
            <a href="/archives" title="" class="menuItem">归档</a>
          
            <a href="/xxxxxxxxx" title="" class="menuItem">xxx</a>
          
            <a href="/xxxxxxx" title="" class="menuItem">xxxx</a>
          
        </div>
        
          <audio id="audio" src="#"></audio>
        
      </div> 
</div>
<div id="overlay" style="opacity: 1; cursor: pointer;"></div>
  <script type="text/javascript">var items = document.querySelectorAll('.menuItem');
    for (var i = 0,
    l = items.length; i < l; i++) {
      items[i].style.left = (50 - 35 * Math.cos( - 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%";
      items[i].style.top = (50 + 35 * Math.sin( - 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%"
    }</script>
<script type="text/javascript">
  $(document).ready(function() {
    $('body').GalMenu({
      'menu': 'GalDropDown'
    })
  });
</script>

  <section class="hidden-xs"> 
  <ul class="cb-slideshow"> 
    <li><span>苟利</span></li> 
    <li><span>国家</span></li> 
    <li><span>生死以</span></li> 
    <li><span>岂能</span></li> 
    <li><span>祸福</span></li> 
    <li><span>趋避之</span></li> 
  </ul>
</section>
<script src="/js/script.js"></script>



  </div>
</body>
</html>